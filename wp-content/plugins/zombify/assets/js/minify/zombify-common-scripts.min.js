function openListUploader(){jQuery(".zf-media-uploader.zf-openlist").each(function(){var t=jQuery(this);t.find('input[type="file"]').on("change",function(){t.find(".zf-hide").removeClass("zf-hide")}),t.find(".zf-image_url").on("input",function(){t.find(".zf-hide").removeClass("zf-hide")}),t.find(".zombify_embed_url_textarea").on("input",function(){t.find(".zf-hide").removeClass("zf-hide")})})}function beforeAfterPostType(){jQuery(".zf-js-before-after-slider").each(function(){var t=jQuery(this),e=t.width();t.find(".zf-after"),t.find(".zf-before");t.find("img").css("max-width",e+"px"),t.on("mousemove",function(e){e.preventDefault(),moveHandler(t,e)});var i=null;t.on("touchstart",function(t){var e=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];i=e.pageX}),t.on("touchend",function(t){i=null}),t.on("touchmove",function(e){var s=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],o=s.pageX-parseInt(i,10);o&&moveHandler(t,s)})})}function ZombifyPageAnimate(t,e){jQuery("body,html").animate({scrollTop:t},e)}function moveHandler(t,e){var i=t.offset(),s=e.pageX-i.left;t.find(".zf-before").width(s),t.find(".zf-hint").remove()}function ZombifyOnAjax(){jQuery(".zf-personality_quiz").zombifyPersonalQuiz(),jQuery(".zf-trivia_quiz").zombifyTriviaQuiz(),jQuery(".zf-poll-item").zombifyPoll(),openListUploader()}function parseEmbedURL(t,e,i,s,o,n){if(""===e)return!1;var f="",a=[];/<iframe /i.test(e)?(f=/src="([^"]*)"/,a=f.exec(e)):/<blockquote /i.test(e)&&(f=/data-instgrm-permalink="([^?]*)([^"]*)"/,a=f.exec(e)),a&&void 0!==a[1]&&(e=a[1],jQuery(t).val(e)),null!==e.match(/(http:|https:|)\/\/(www.)?[A-Za-z0-9._%-]{1,}.[A-Za-z0-9._%-+]{1,}[\/A-Za-z0-9._%-]{1,}([?][^ "]{1,})?/g)?(jQuery(t).closest(".zf-embed").find(".zf-embed-video").html('<p class="zf-note text-center">'+zf.fetching_text+"...</p>"),jQuery.ajax({url:zf.ajaxurl,type:"GET",data:{action:"zombify_embed_from_url",url:e,post_id:zf.post_id},success:function(e){""!==e?(ZombifyBuilder.updateShowDependency(),e=JSON.parse(e),jQuery(t).closest(".zf-embed").find(".zf-embed-video").html(e.html),jQuery(t).closest(".zf-embed").find("input[data-zombify-field-name='embed_thumb']").val(e.thumbnail),jQuery(t).closest(".zf-embed").find("input[data-zombify-field-name='embed_type']").val(e.type),jQuery(t).closest(".zf-embed").find("input[data-zombify-field-name='embed_variables']").val(e.variables),e.reset&&jQuery(t).val("")):(jQuery(t).val(""),jQuery(t).closest(".zf-embed").find(".zf-embed-video").html(""))},error:function(t){console.log(t)}})):jQuery(t).val("https://"+e)}function zf_get_video_by_url(t){var e=jQuery(t).parent().find(".zf-image_url").val();if(e){"mp4"===e.split(".").pop()?(jQuery(t).parents(".zf-uploader").find(".zf-preview-gif-mp4").find("source").attr("src",e),jQuery(t).parents(".zf-uploader").find(".zf-preview-gif-mp4").show(),jQuery(t).parents(".zf-uploader").find(".zf-preview-gif-mp4").find("video")[0].load(),jQuery(t).parents(".zf-uploader").find(".zf-preview-gif-mp4").find("video")[0].play()):jQuery(t).parents(".zf-uploader").find(".zf-preview-img").attr("src",e).show(),jQuery(t).closest(".zf-embed").find(".zf-embed-video").html("");parseEmbedURL(jQuery(t).parent().find(".zf-image_url"),jQuery(t).parent().find(".zf-image_url").val(),"100%",500,"youtube,mp4",1);jQuery(t).parents(".zf-uploader").find(".zf-get-url-popup").removeClass("zf-open"),jQuery(t).parents(".zf-uploader").addClass("zf-uploader-uploaded")}else jQuery(this).parents(".zf-uploader").find(".zf-get-url-popup").removeClass("zf-open")}function initMeme(t){function e(e){var s=new Image;t("#zf-meme-img").attr("src",e).show(),t("#zf-memecontainer").show(),t(".zf-media-uploader").hide(),t('#zombify-main-section input[data-zombify-field-path="title"]:first').focus(),t("html, body").animate({scrollTop:t("#zf-meme-img").offset().top-20},"slow"),o=document.getElementById("zf-meme-img"),o.onload=function(){i()},s.onload=function(){zombify_meme_img_delta=s.width/f},s.src=e}function i(){var e=o.width,i=o.height;n=e/i,zf_isMobile||(t(".zf-options").css("max-width",f-30+"px"),t(".zf-drag-area").draggable({containment:"#zf-memecontainer",handle:".zf-drag",create:function(e,i){a?(t(".zf-drag-area[data-rel='1']").css({top:zombify_settings.items[1].top,left:zombify_settings.items[1].left,width:zombify_settings.items[1].width+4+"px",height:zombify_settings.items[1].height+4+"px"}),t(".zf-drag-area[data-rel='2']").css({top:f/n-zombify_settings.items[2].height-25,left:zombify_settings.items[2].left,width:zombify_settings.items[2].width+4+"px",height:zombify_settings.items[2].height+4+"px"})):(t(".zf-drag-area[data-rel='1']").css({top:zombify_settings.items[1].top,left:zombify_settings.items[1].left,width:zombify_settings.items[1].width,height:zombify_settings.items[1].height}),t(".zf-drag-area[data-rel='2']").css({top:zombify_settings.items[2].top,left:zombify_settings.items[2].left,width:zombify_settings.items[2].width,height:zombify_settings.items[2].height}))},drag:function(e,i){zombify_settings.items[t(this).data("rel")].top=i.position.top,zombify_settings.items[t(this).data("rel")].left=i.position.left,zombify_settings.items[t(this).data("rel")].height=t(this).height(),zombify_settings.items[t(this).data("rel")].width=t(this).width(),d()}}).resizable({handles:"n, s, sw, nw, ne, se",resize:function(e,i){zombify_settings.items[t(this).data("rel")].top=i.position.top,zombify_settings.items[t(this).data("rel")].left=i.position.left,zombify_settings.items[t(this).data("rel")].height=t(this).height(),zombify_settings.items[t(this).data("rel")].width=t(this).width(),d()}}).on("resize",function(t){t.stopPropagation()})),a&&(zombify_settings.items[2].top=f/n-zombify_settings.items[2].height-25,d()),d()}function s(t,e,i,o,n){var f=e.split(" "),a="",r=1,d=!1,m=!1,l=o,z=parseInt(zombify_settings.items[n].fontSize),u=parseInt(zombify_settings.items[n].fontSize);t.font=zombify_settings.items[n].fontSize+"px "+zombify_settings.items[n].fontFamily,zombify_settings.items[n].texts={};for(var c=0;c<f.length;c++){var h=a+f[c]+" ",y=t.measureText(h),p=y.width;zombify_settings.items[n].texts[r]={},p>zombify_settings.items[n].width&&c>0?(zombify_settings.items[n].texts[r].t=a,zombify_settings.items[n].texts[r].top=l,a=f[c]+" ",l+=u,r++,c==f.length-1&&(m=!0)):(a=h,zombify_settings.items[n].texts[r].t=a,zombify_settings.items[n].texts[r].top=l),c==f.length-1&&m&&(zombify_settings.items[n].texts[r]={},zombify_settings.items[n].texts[r].t=f[c],zombify_settings.items[n].texts[r].top=l)}"auto"==zombify_settings.items[n].fontType&&(r*u>zombify_settings.items[n].height?(zombify_settings.items[n].fontSize=zombify_settings.items[n].height/r,t.font=parseInt(zombify_settings.items[n].fontSize)+"px"+zombify_settings.items[n].fontFamily):(r+1)*u<zombify_settings.items[n].height&&(zombify_settings.items[n].fontSize=z+1,t.font=parseInt(zombify_settings.items[n].fontSize)+"px"+zombify_settings.items[n].fontFamily,d=!0),d&&s(t,e,i,o,n))}if(t("#meme_settings").length>0&&""!=t("#meme_settings").val()&&(zombify_settings=decodeObj(t("#meme_settings").val())),t("#zf-meme").length){var o,n,f;if(f=t("#zf-main").innerWidth(),t("#zf-meme").hasClass("zf-create")){var a=!0,r=1;zombify_settings.global.width=f,zombify_settings.items[1].width=zombify_settings.global.width-30,zombify_settings.items[2].width=zombify_settings.global.width-30,f<=700&&(zombify_settings.items[1].top=10,zombify_settings.items[1].left=10,zombify_settings.items[1].height=30,zombify_settings.items[1].fontSize=20,zombify_settings.items[2].top=10,zombify_settings.items[2].left=10,zombify_settings.items[2].height=30,zombify_settings.items[2].fontSize=20)}else{var a=!1,r=zombify_settings.global.width/f;zombify_settings.global.width=f,zombify_settings.items[1].top=zombify_settings.items[1].top/r,zombify_settings.items[1].left=zombify_settings.items[1].left/r,zombify_settings.items[1].width=zombify_settings.items[1].width/r,zombify_settings.items[1].height=zombify_settings.items[1].height/r,zombify_settings.items[1].fontSize=zombify_settings.items[1].fontSize/r,zombify_settings.items[2].top=zombify_settings.items[2].top/r,zombify_settings.items[2].left=zombify_settings.items[2].left/r,zombify_settings.items[2].width=zombify_settings.items[2].width/r,zombify_settings.items[2].height=zombify_settings.items[2].height/r,zombify_settings.items[2].fontSize=zombify_settings.items[2].fontSize/r}if(a)t("#meme_image").on("change",function(){if(!ZombifyBuilder.validateField(jQuery(this)))return!1;if(this.files&&this.files[0]){var t=new FileReader;t.onload=function(t){e(t.target.result)},t.readAsDataURL(this.files[0])}}),t(document).on("click",".zombify-meme-popup .single-image",function(i){t(".zf-start.zf-open").removeClass("zf-open"),e(t(this).data("url")),t(".meme-template").val(t(this).data("url")),t(".zombify-meme-popup").removeClass("zf-open")});else{var o=new Image;o.setAttribute("crossOrigin","anonymous"),o.onload=function(){i()},o.src=document.getElementById("zf-meme-img").src}t("textarea.zf-write").keyup(function(){zombify_settings.items[t(this).data("rel")].text=t(this).val(),d()}),t(".zf-opt_top").keyup(function(){zombify_settings.items[t(this).data("rel")].top=parseInt(t(this).val()),d()}),t(".zf-opt_left").keyup(function(){zombify_settings.items[t(this).data("rel")].left=parseInt(t(this).val()),d()}),t(".zf-opt_fontSize").on("change",function(){"auto"==t(this).val()?zombify_settings.items[t(this).data("rel")].fontType="auto":(zombify_settings.items[t(this).data("rel")].fontType=t(this).val(),zombify_settings.items[t(this).data("rel")].fontSize=t(this).val()),d()}),t(".zf-opt_fontFamily").on("change",function(){zombify_settings.items[t(this).data("rel")].fontFamily=t(this).val(),d()}),t(".zf-opt_strokeWidth").on("change",function(){zombify_settings.items[t(this).data("rel")].lineWidth=t(this).val(),d()}),t(".zf-opt_fontColor").on("change",function(){zombify_settings.items[t(this).data("rel")].color=t(this).val(),d()}),t(".zf-opt_strokeColor").on("change",function(){zombify_settings.items[t(this).data("rel")].shadow=t(this).val(),d()});var d=function(){zombify_canvas=document.getElementById("zf-memecanvas"),zf_context=zombify_canvas.getContext("2d"),zombify_canvas.width=f,zombify_canvas.height=f/n,zf_context.drawImage(o,0,0,f,f/n);for(var t in zombify_settings.items)if(zombify_settings.items.hasOwnProperty(t)){zf_context.fillStyle=zombify_settings.items[t].color,zf_context.font=zombify_settings.items[t].fontSize+"px "+zombify_settings.items[t].fontFamily,zf_context.strokeStyle=zombify_settings.items[t].shadow,zf_context.lineWidth=zombify_settings.items[t].lineWidth,zf_context.textAlign="center",zf_context.textBaseline="top",zf_context.lineJoin="round",s(zf_context,zombify_settings.items[t].text,zombify_settings.items[t].left+zombify_settings.items[t].width/2,zombify_settings.items[t].top,t);for(var e in zombify_settings.items[t].texts)zombify_settings.items[t].texts.hasOwnProperty(e)&&(zf_context.font=zombify_settings.items[t].fontSize+"px "+zombify_settings.items[t].fontFamily,0!=zombify_settings.items[t].lineWidth&&zf_context.strokeText(zombify_settings.items[t].texts[e].t,zombify_settings.items[t].left+zombify_settings.items[t].width/2,zombify_settings.items[t].texts[e].top),zf_context.fillText(zombify_settings.items[t].texts[e].t,zombify_settings.items[t].left+zombify_settings.items[t].width/2,zombify_settings.items[t].texts[e].top))}};t(".zf-drag").on("click",function(e){e.stopPropagation(),t(".zf-topIndex").removeClass("zf-topIndex"),t(this).parent().find(".zf-write").show().select(),t(this).parent().addClass("zf-topIndex")}),t("body").on("click",function(){t(".zf-topIndex").removeClass("zf-topIndex")}),t(".zf-options_toggle").on("click",function(e){e.preventDefault(),e.stopPropagation(),t(this).parent().toggleClass("zf-open")}),t(".zf-options").on("click",function(t){t.stopPropagation()}),t("#zf-memecontainer").on("click",function(t){}),t(".zf-colorPicker .zf-current_color").on("click",function(e){e.preventDefault(),e.stopPropagation(),t(this).parent().toggleClass("zf-active")}),t(".zf-colorPicker .zf-color").on("click",function(e){e.preventDefault(),e.stopPropagation();var i=t(this).attr("rel");t(this).parent().parent().find(".zf-color_input").val(i).trigger("change"),t(this).parent().parent().find(".zf-current_color").css("background-color",i)}),t(".zf-options").on("click",function(e){t(this).find(".zf-active").removeClass("zf-active")})}t(window).resize(function(){f=t("#zf-main").innerWidth(),r=zombify_settings.global.width/f,zombify_settings.global.width=f,zombify_settings.items[1].top=zombify_settings.items[1].top/r,zombify_settings.items[1].left=zombify_settings.items[1].left/r,zombify_settings.items[1].width=zombify_settings.items[1].width/r,zombify_settings.items[1].height=zombify_settings.items[1].height/r,zombify_settings.items[1].fontSize=zombify_settings.items[1].fontSize/r,zombify_settings.items[2].top=zombify_settings.items[2].top/r,zombify_settings.items[2].left=zombify_settings.items[2].left/r,zombify_settings.items[2].width=zombify_settings.items[2].width/r,zombify_settings.items[2].height=zombify_settings.items[2].height/r,zombify_settings.items[2].fontSize=zombify_settings.items[2].fontSize/r,zf_isMobile||(t(".zf-options").css("max-width",f-30+"px"),t(".zf-drag-area[data-rel='1']").css({top:zombify_settings.items[1].top,left:zombify_settings.items[1].left,width:zombify_settings.items[1].width,height:zombify_settings.items[1].height}),t(".zf-drag-area[data-rel='2']").css({top:zombify_settings.items[2].top,left:zombify_settings.items[2].left,width:zombify_settings.items[2].width,height:zombify_settings.items[2].height}))})}function createImageDataPressed(){var t=document.getElementById("zf-readyImage");return void 0!==zombify_canvas&&(zombify_meme_img_delta>1?zf_quality=1:zombify_meme_img_delta<.1?zf_quality=.1:zf_quality=zombify_meme_img_delta,t.value=zombify_canvas.toDataURL("image/jpeg",1),!0)}function encodeObj(t){string=JSON.stringify(t);var e={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var i,s,o,n,f,a,r,d="",m=0;for(t=e._utf8_encode(t);m<t.length;)i=t.charCodeAt(m++),s=t.charCodeAt(m++),o=t.charCodeAt(m++),n=i>>2,f=(3&i)<<4|s>>4,a=(15&s)<<2|o>>6,r=63&o,isNaN(s)?a=r=64:isNaN(o)&&(r=64),d=d+this._keyStr.charAt(n)+this._keyStr.charAt(f)+this._keyStr.charAt(a)+this._keyStr.charAt(r);return d},decode:function(t){var i,s,o,n,f,a,r,d="",m=0;for(t=t.replace(/[^A-Za-z0-9+\/=]/g,"");m<t.length;)n=this._keyStr.indexOf(t.charAt(m++)),f=this._keyStr.indexOf(t.charAt(m++)),a=this._keyStr.indexOf(t.charAt(m++)),r=this._keyStr.indexOf(t.charAt(m++)),i=n<<2|f>>4,s=(15&f)<<4|a>>2,o=(3&a)<<6|r,d+=String.fromCharCode(i),64!=a&&(d+=String.fromCharCode(s)),64!=r&&(d+=String.fromCharCode(o));return d=e._utf8_decode(d)},_utf8_encode:function(t){t=t.replace(/rn/g,"n");for(var e="",i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?e+=String.fromCharCode(s):s>127&&s<2048?(e+=String.fromCharCode(s>>6|192),e+=String.fromCharCode(63&s|128)):(e+=String.fromCharCode(s>>12|224),e+=String.fromCharCode(s>>6&63|128),e+=String.fromCharCode(63&s|128))}return e},_utf8_decode:function(t){for(var e="",i=0,s=c1=c2=0;i<t.length;)s=t.charCodeAt(i),s<128?(e+=String.fromCharCode(s),i++):s>191&&s<224?(c2=t.charCodeAt(i+1),e+=String.fromCharCode((31&s)<<6|63&c2),i+=2):(c2=t.charCodeAt(i+1),c3=t.charCodeAt(i+2),e+=String.fromCharCode((15&s)<<12|(63&c2)<<6|63&c3),i+=3);return e}},i=e.encode(string);return i}function decodeObj(t){var e={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var i,s,o,n,f,a,r,d="",m=0;for(t=e._utf8_encode(t);m<t.length;)i=t.charCodeAt(m++),s=t.charCodeAt(m++),o=t.charCodeAt(m++),n=i>>2,f=(3&i)<<4|s>>4,a=(15&s)<<2|o>>6,r=63&o,isNaN(s)?a=r=64:isNaN(o)&&(r=64),d=d+this._keyStr.charAt(n)+this._keyStr.charAt(f)+this._keyStr.charAt(a)+this._keyStr.charAt(r);return d},decode:function(t){var i,s,o,n,f,a,r,d="",m=0;for(t=t.replace(/[^A-Za-z0-9+\/=]/g,"");m<t.length;)n=this._keyStr.indexOf(t.charAt(m++)),f=this._keyStr.indexOf(t.charAt(m++)),a=this._keyStr.indexOf(t.charAt(m++)),r=this._keyStr.indexOf(t.charAt(m++)),i=n<<2|f>>4,s=(15&f)<<4|a>>2,o=(3&a)<<6|r,d+=String.fromCharCode(i),64!=a&&(d+=String.fromCharCode(s)),64!=r&&(d+=String.fromCharCode(o));return d=e._utf8_decode(d)},_utf8_encode:function(t){t=t.replace(/rn/g,"n");for(var e="",i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?e+=String.fromCharCode(s):s>127&&s<2048?(e+=String.fromCharCode(s>>6|192),e+=String.fromCharCode(63&s|128)):(e+=String.fromCharCode(s>>12|224),e+=String.fromCharCode(s>>6&63|128),e+=String.fromCharCode(63&s|128))}return e},_utf8_decode:function(t){for(var e="",i=0,s=c1=c2=0;i<t.length;)s=t.charCodeAt(i),s<128?(e+=String.fromCharCode(s),i++):s>191&&s<224?(c2=t.charCodeAt(i+1),e+=String.fromCharCode((31&s)<<6|63&c2),i+=2):(c2=t.charCodeAt(i+1),c3=t.charCodeAt(i+2),e+=String.fromCharCode((15&s)<<12|(63&c2)<<6|63&c3),i+=3);return e}},i=e.decode(t);return i=JSON.parse(i)}var zf_isMobile;jQuery(document).ready(function(t){jQuery(document).on("change",'.zombify_quiz input[type="file"]',function(t){ZombifyBuilder.validateField(jQuery(this))?(zombify_virtual_unsaved_form=!0,"file"==jQuery(this).attr("data-zombify-field-type")&&(jQuery(this).attr("data-zf-file-browsed","1"),jQuery(this).closest(".zf-form-group").find(".zombify_uploaded_image_item").remove(),ZombifyBuilder.virtualSave())):jQuery(this).val("")}),jQuery(document).on("click",".zf-submit_url",function(){ZombifyBuilder.virtualSave()}),jQuery(document).on("click",".zf-uploader .js-zf-get_url",function(t){t.stopPropagation(),t.preventDefault(),jQuery(this).parents(".zf-uploader").find(".zf-get-url-popup").addClass("zf-open"),jQuery(this).parents(".zf-uploader").find(".zf-image_url,.zf-start-image_url").focus()}),jQuery(document).on("click",".zf-uploader .zf-popup-close",function(t){t.stopPropagation(),t.preventDefault(),jQuery(this).parents(".zf-uploader").find(".zf-get-url-popup").removeClass("zf-open")}),jQuery(document).on("click",".zf-uploader .zf-submit_url",function(t){jQuery(this).parents(".zf-uploader").find(".zf-preview-gif").hide(),zf_get_video_by_url(this)}),jQuery(".zf-uploader .zf-submit_url").each(function(){zf_get_video_by_url(this)}),jQuery(document).on("click",".zf-comments_load_more a",function(t){t.preventDefault();var e=jQuery(this),i=parseInt(e.attr("data-page")),s=e.data("pages-count");e.parent().addClass("zf-loading"),jQuery.ajax({url:zf.ajaxurl,type:"POST",data:{post_id:e.data("post-id"),page:i,action:"zombify_get_post_comments"},dataType:"json",success:function(t){jQuery("[data-post-id="+e.data("post-id")+"] .zf-comments-box").append(t.comments),e.attr("data-page",i+1),s+1<=i+1&&e.parent().addClass("zf-hide"),e.parent().removeClass("zf-loading")}})});var e=jQuery(".tabs-menu>li.active");if(e.length>0)for(var i=0;i<e.length;i++){var s=jQuery(e[i]).children().attr("href");jQuery(s).addClass("active").show()}jQuery(document).on("click",".zf-tabs-menu a",function(t){var e=jQuery(this),i=e.attr("href"),s=e.closest(".zf-tabs"),o=s.find(".zf-tab-content");e.parent().addClass("zf-active"),e.parent().siblings().removeClass("zf-active"),o.not(i).removeClass("zf-active").hide(),jQuery(i).addClass("zf-active").fadeIn(500),t.preventDefault()}),jQuery(".zf-personality_quiz").zombifyPersonalQuiz(),jQuery(".zf-trivia_quiz").zombifyTriviaQuiz(),jQuery(".zf-poll-item").zombifyPoll(),openListUploader(),beforeAfterPostType(),jQuery(document).on("change",".zf-image_url",function(){jQuery(this).closest(".zf-uploader").closest(".zf-form-group").find(".zf-help").remove()})}),jQuery.fn.zombifyPersonalQuiz=function(){return this.each(function(){var t=jQuery(this),e=!0,i=t.data("question_count"),s=t.data("result_count"),o=[];zf_actionAnswerBtn=t.find(".js-zf-answer");var n={showPersonalResult:function(n){if(t.find(".zf-choice").length==i){e=!1;for(var f=0;f<=s;f++){var a=t.find(".zf-selected[data-personality_index="+f+"]").length;o.push(a)}for(var r=o[0],d=0,f=1;f<o.length;f++)o[f]>r&&(d=f,r=o[f]);t.find(".zf-quiz_results").show(),t.find(".zf-quiz_results ol li:nth-child("+(d+1)+")").show();var m=t.find(".zf-quiz_results").offset();ZombifyPageAnimate(m.top-150,500),jQuery(window).resize()}else if(n.parent().parent().index()+1==i){var m=t.find(".zf-quiz_answer").not(".zf-done").offset();ZombifyPageAnimate(m.top,500)}else{var m=n.parent().parent().next().offset();ZombifyPageAnimate(m.top-150,500)}}};t.find(".zf-answer_credit").on("click",function(t){t.stopPropagation()}),jQuery(zf_actionAnswerBtn).on("click",function(t){var i=jQuery(this).parent();e&&(i.parent().find(".zf-selected").removeClass("zf-selected"),i.parent().find(".zf-deactivated").removeClass("zf-deactivated"),i.addClass("zf-selected"),i.parent().find("li").not(".zf-selected").addClass("zf-deactivated"),i.parent().addClass("zf-choice"),i.parent().parent().addClass("zf-done"),n.showPersonalResult(jQuery(this).parent()))})})},jQuery.fn.zombifyTriviaQuiz=function(){return this.each(function(){var t=jQuery(this),e=!0,i=t.data("question_count"),s=0,o=t.find(".js-zf-answer"),n=t.find(".js-zf-quiz-guess-btn"),f=t.find(".js-zf-quiz-giveup-btn"),a=t.find(".js-zf-quiz-input"),r=!!t.hasClass("zf-show-answer"),d=!1,m={showRevealAnswer:function(t){1==t.data("correct")?t.parent().parent().find(".zf-quiz_reveal .zf-reveal_header").addClass("zf_correct"):t.parent().parent().find(".zf-quiz_reveal .zf-reveal_header").addClass("zf_wrong"),t.parent().parent().find(".zf-quiz_reveal").show()},showTriviaResult:function(o){if(s==i){t.addClass("zf-quiz-done"),e=!1;var n=t.find('li.zf-selected[data-correct="1"]').length;if(t.find(".zf-quiz_results li").each(function(){var e=parseInt(jQuery(this).data("range_start")),s=parseInt(jQuery(this).data("range_end"));if(n>=e&&n<=s){d=!0,jQuery(this).find(".zf-score_count").text(n+"/"+i),jQuery(this).find(".zf-score_count_correct").text(n),jQuery(this).show();var o=jQuery(this).find(".zf-share.zf_twitter").attr("href"),f=o.replace("zombifyResult",n+"/"+i);jQuery(this).find(".zf-share.zf_twitter").attr("href",f);var a=jQuery(this).find(".zf-share.zf_facebook").attr("href"),r=a.replace("zombifyResult",n+"/"+i);jQuery(this).find(".zf-share.zf_facebook").attr("href",r),t.find(".zf-quiz_results").show();var m=t.find(".zf-quiz_results").offset();ZombifyPageAnimate(m.top,500)}}),!d){jQuery(".zf-default-result").find(".zf-score_count").text(n+"/"+i),jQuery(".zf-default-result").find(".zf-score_count_correct").text(n),jQuery(".zf-default-result").show();var f=jQuery(".zf-default-result").find(".zf-share.zf_twitter").attr("href"),a=f.replace("zombifyResult",n+"/"+i);jQuery(".zf-default-result").find(".zf-share.zf_twitter").attr("href",a);var r=jQuery(".zf-default-result").find(".zf-share.zf_facebook").attr("href"),m=r.replace("zombifyResult",n+"/"+i);jQuery(".zf-default-result").find(".zf-share.zf_facebook").attr("href",m),t.find(".zf-quiz_results").show();var l=t.find(".zf-quiz_results").offset();ZombifyPageAnimate(l.top,500),jQuery(window).resize()}}else if(o.parent().parent().index()+1==i){var l=t.find(".zf-quiz_question").not(".zf-done").offset();ZombifyPageAnimate(l.top-150,500)}}};t.find(".zf-answer_credit").on("click",function(t){t.stopPropagation()}),jQuery(o).on("click",function(t){var i=jQuery(this).parent();e&&!i.parent().hasClass("zf-choice")&&(i.parent().find(".zf-selected").removeClass("zf-selected"),i.parent().find(".zf-deactivated").removeClass("zf-deactivated"),i.addClass("zf-selected"),i.parent().find("li").not(".zf-selected").addClass("zf-deactivated"),i.parent().addClass("zf-choice"),i.parent().parent().addClass("zf-done"),s++,r&&m.showRevealAnswer(jQuery(this).parent()),m.showTriviaResult(jQuery(this).parent()))}),jQuery(n).on("click",function(t){t.preventDefault();var i=jQuery(this).parent();if(e&&!i.parent().hasClass("zf-choice")){var o=i.find("input"),n=o.data("try"),f=o.val(),a=o.data("answers"),d=o.data("limit");jQuery.each(a,function(t,e){a[t]=e.toLowerCase()});var l=a.indexOf(f.toLowerCase());if(l<0){n++,o.data("try",n),o.addClass("zf-error zf-animate zf-shake");var z=setTimeout(function(){o.removeClass("zf-error zf-animate zf-shake")},200);1==n&&i.addClass("zf-first-try"),n>=d&&(clearTimeout(z),o.addClass("zf-error"),i.addClass("zf-selected").attr("data-correct","0"),i.parent().addClass("zf-choice"),i.parent().parent().addClass("zf-done"),o.val(a[0]),o.attr("disabled","disabled"),s++,r&&m.showRevealAnswer(jQuery(this).parent()),m.showTriviaResult(jQuery(this).parent()))}else o.addClass("zf-true"),i.addClass("zf-selected").attr("data-correct","1"),i.parent().addClass("zf-choice"),i.parent().parent().addClass("zf-done"),o.attr("disabled","disabled"),s++,r&&m.showRevealAnswer(jQuery(this).parent()),m.showTriviaResult(jQuery(this).parent())}}),jQuery(a).on("keypress",function(t){13===t.which&&jQuery(this).parent().find(".js-zf-quiz-guess-btn").trigger("click")}),jQuery(f).on("click",function(t){t.preventDefault();var i=jQuery(this).parent();if(e&&!i.parent().hasClass("zf-choice")){var o=i.find("input"),n=o.data("answers");o.addClass("zf-error"),i.addClass("zf-selected").attr("data-correct","0"),i.parent().addClass("zf-choice"),i.parent().parent().addClass("zf-done"),o.val(n[0]),o.attr("disabled","disabled"),s++,r&&m.showRevealAnswer(jQuery(this).parent()),m.showTriviaResult(jQuery(this).parent())}})})},jQuery.fn.zombifyPoll=function(){return this.each(function(){var t=jQuery(this),e=!0,i=t.data("voted_count"),s=t.find(".js-zf-answer"),o={showPollStat:function(t,e){t.find("[data-voted]").each(function(){var t=jQuery(this).attr("data-voted"),i=Math.round(100*t/e);jQuery(this).find(".zf-poll-stat_count").html(i+"%"),jQuery(this).find(".zf-poll-stat").css({height:i+"%",width:i+"%"})})}};t.hasClass("zf-poll-done")&&(e=!1,o.showPollStat(t.find(".zf-quiz_answer"),i)),t.find(".zf-answer_credit").on("click",function(t){t.stopPropagation()}),jQuery(s).on("click",function(s){if(e){var n=jQuery(this).parent(),f=n.data("voted"),a=n.data("id"),r=n.data("post-id"),d=n.data("group-id");n.addClass("zf-selected"),i++,n.attr("data-voted",f+1),t.find(".voted-count").html(i),o.showPollStat(n.parent(),i),t.addClass("zf-poll-done");var m=jQuery.trim(t.find(".zf-selected .zf-answer_text").text()),l=t.find(".zf-share.zf_twitter").attr("href"),z=l.replace("zombifyResult",m);t.find(".zf-share.zf_twitter").attr("href",z);var u=t.find(".zf-share.zf_facebook").attr("href"),c=u.replace("zombifyResult",m);t.find(".zf-share.zf_facebook").attr("href",c),jQuery.ajax({url:zf.ajaxurl+"?action=poll_vote",type:"POST",data:{id:a,post_id:r,group_id:d,action:"zombify_poll_vote"},dataType:"json",success:function(t){}}),e=!1}});var n=jQuery.trim(t.find(".zf-selected .zf-answer_text").text());if(""!=n){var f=t.find(".zf-share.zf_twitter").attr("href"),a=f.replace("zombifyResult",n);t.find(".zf-share.zf_twitter").attr("href",a);var r=t.find(".zf-share.zf_facebook").attr("href"),d=r.replace("zombifyResult",n);t.find(".zf-share.zf_facebook").attr("href",d)}})},String.prototype.splice=function(t,e,i){return this.slice(0,t)+i+this.slice(t+Math.abs(e))};var zombify_canvas,zombify_settings,zombify_meme_img_delta;jQuery(document).ready(function(t){zombify_settings={global:{width:0},items:{1:{text:zf.translatable.meme.top_text,top:25,left:15,width:500,height:60,color:"#ffffff",fontSize:50,fontType:"auto",fontFamily:"Impact",shadow:"#000000",lineWidth:2},2:{text:zf.translatable.meme.bottom_text,top:25,left:15,width:500,height:60,color:"#ffffff",fontSize:50,fontType:"auto",fontFamily:"Impact",shadow:"#000000",lineWidth:2}}},t(document).on("click",".zf-meme-popup-btn",function(e){e.preventDefault(),t(".zombify-meme-popup").addClass("zf-open")}),t(document).on("click",".zombify-meme-popup .zf-popup_close",function(e){e.preventDefault(),t(".zombify-meme-popup").removeClass("zf-open")}),initMeme(t)});